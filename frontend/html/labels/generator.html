<!-- Label Generator Page -->
<div class="labels-generator">
  <h2>Label Generator</h2>
  <div class="inner-tabs" style="margin-bottom: 1.5rem; display: flex; gap: 0.5rem;">
    <button class="modern-button active" data-nav onclick="location.href='/labels/generator'">Generator</button>
    <button class="modern-button" data-nav onclick="location.href='/labels/history'">History</button>
  </div>
  
  <section class="card">
    <div class="card-header">
      <h3>üè∑Ô∏è Generate Labels</h3>
    </div>
    <div class="card-body">
      <p>Select products to generate barcode labels with UK/FR 6-month sales data.</p>
      
      <!-- Loading Indicator -->
      <div id="loadingIndicator" style="display: none; text-align: center; padding: 2rem;">
        <div style="font-size: 2rem;">‚è≥</div>
        <p>Loading products...</p>
      </div>

      <!-- Error Message -->
      <div id="errorMessage" style="display: none; padding: 1rem; background: #fee; border-left: 4px solid #c00; color: #c00; margin-bottom: 1rem; border-radius: 4px;">
        Error loading products
      </div>

      <!-- Controls -->
      <div class="generator-controls modern-box" style="margin-bottom: 1.5rem;">
        <!-- Discontinued Status Filters -->
        <div style="margin-bottom: 1rem; padding-bottom: 1rem; border-bottom: 1px solid #eee;">
          <label style="font-weight: 600; margin-bottom: 0.5rem; display: block; color: #333;">
            Product Status Filters:
          </label>
          <div style="display: flex; gap: 1.5rem; flex-wrap: wrap; align-items: center;">
            <label style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer;">
              <input type="checkbox" id="filter_Active" class="status-filter-checkbox" value="Active" checked style="width: 18px; height: 18px;">
              <span>Active</span>
            </label>
            <label style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer;">
              <input type="checkbox" id="filter_TemporarilyOOS" class="status-filter-checkbox" value="Temporarily OOS" checked style="width: 18px; height: 18px;">
              <span>Temporarily OOS</span>
            </label>
            <label style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer;">
              <input type="checkbox" id="filter_PreOrder" class="status-filter-checkbox" value="Pre Order" checked style="width: 18px; height: 18px;">
              <span>Pre Order</span>
            </label>
            <label style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer;">
              <input type="checkbox" id="filter_Samples" class="status-filter-checkbox" value="Samples" checked style="width: 18px; height: 18px;">
              <span>Samples</span>
            </label>
            <label style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer;">
              <input type="checkbox" id="filter_DiscontinuedSupplier" class="status-filter-checkbox" value="Discontinued (Supplier)" style="width: 18px; height: 18px;">
              <span>Discontinued (Supplier)</span>
            </label>
            <label style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer;">
              <input type="checkbox" id="filter_DiscontinuedRM" class="status-filter-checkbox" value="Discontinued (RM)" style="width: 18px; height: 18px;">
              <span>Discontinued (RM)</span>
            </label>
            <label style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer;">
              <input type="checkbox" id="filter_SpecialOffer" class="status-filter-checkbox" value="Special Offer" style="width: 18px; height: 18px;">
              <span>Special Offer</span>
            </label>
            <label style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer;">
              <input type="checkbox" id="filter_SpecialItem" class="status-filter-checkbox" value="Special Item" style="width: 18px; height: 18px;">
              <span>Special Item</span>
            </label>
            <button id="applyStatusFilters" class="modern-button" style="margin-left: auto; background: linear-gradient(135deg, #3b82f6, #2563eb); color: white;">
              Apply Filters
            </button>
          </div>
        </div>
        
        <div style="display: grid; grid-template-columns: 1fr auto auto; gap: 1rem; align-items: center; margin-bottom: 1rem;">
          <div>
            <label class="form-label">Search Products:</label>
            <input type="text" id="searchInput" class="modern-input" placeholder="Search by SKU, Product Name, or Item ID...">
          </div>
          <div>
            <label class="form-label">Line Date:</label>
            <input type="date" id="lineDateInput" class="modern-input">
          </div>
          <div style="padding-top: 1.5rem;">
            <button id="refreshBtn" class="modern-button" style="background: #6b7280;">üîÑ Refresh</button>
          </div>
        </div>
        
        <div style="display: flex; align-items: center; gap: 1rem; padding: 1rem; background: var(--selection-bar-bg, #f8f9fa); border-radius: 6px; border: 1px solid var(--border-color, #e5e7eb);">
          <div style="display: flex; align-items: center; gap: 0.5rem;">
            <input type="checkbox" id="selectAllCheckbox" style="width: 18px; height: 18px; cursor: pointer;">
            <label for="selectAllCheckbox" style="cursor: pointer; font-weight: 500; color: var(--text-color, #333);">Select All</label>
          </div>
          <button id="deselectAllBtn" class="modern-button" style="background: #6b7280;">
            Deselect All
          </button>
          <div style="flex: 1; text-align: center; color: var(--text-secondary, #666);">
            <span id="selectedProducts">0</span> of <span id="totalProducts">0</span> products selected
          </div>
          <button id="generatePdfBtn" class="modern-button" disabled style="background: linear-gradient(to bottom right, #10b981, #059669);">
            üìÑ Generate PDF Labels
          </button>
        </div>
      </div>

      <!-- Products Table -->
      <div class="modern-box" style="overflow-x: auto;">
        <table class="modern-table" style="width: 100%; border-collapse: collapse;">
          <thead>
            <tr style="background: rgba(0,0,0,0.05);">
              <th style="padding: 12px; text-align: left; width: 50px;">
                <div style="width: 20px;"></div>
              </th>
              <th style="padding: 12px; text-align: left;">SKU</th>
              <th style="padding: 12px; text-align: left;">Product Name</th>
              <th style="padding: 12px; text-align: left;">Item ID</th>
              <th style="padding: 12px; text-align: right;">UK 6M</th>
              <th style="padding: 12px; text-align: right;">FR 6M</th>
            </tr>
          </thead>
          <tbody id="productsTableBody">
            <tr>
              <td colspan="6" style="text-align: center; padding: 2rem; color: #999;">
                Loading...
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </section>
</div>
<!-- Universal Footer -->
<div id="footerPlaceholder"></div>
<script>
  if (!document.getElementById('universalFooter')) {
    fetch('/components/universal-footer.html')
      .then(response => response.text())
      .then(html => {
        document.getElementById('footerPlaceholder').innerHTML = html;
      })
      .catch(error => console.error('Error loading footer:', error));
  }
</script>