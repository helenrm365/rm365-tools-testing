<!-- Labels History Page -->
<div class="labels-history">
  <!-- Page Header -->
  <div class="page-header">
    <div class="header-content">
      <h1 class="page-title">Label History</h1>
      <p class="page-subtitle">View and manage your label generation history</p>
    </div>
  </div>

  <!-- Navigation Tabs -->
  <div class="inner-tabs">
    <button class="tab-button" onclick="location.href='/labels/generator'">
      <i class="fas fa-barcode"></i>
      <span>Generator</span>
    </button>
    <button class="tab-button active" onclick="location.href='/labels/history'">
      <i class="fas fa-history"></i>
      <span>History</span>
    </button>
  </div>

  <!-- Main Content -->
  <div class="history-content">
    <!-- Label Generation History Section -->
    <section class="section-header">
      <h2 class="section-title">
        <i class="fas fa-clipboard-list"></i>
        Label Generation History
      </h2>
      <p class="section-subtitle">View past label generation runs and download previous batches</p>
    </section>

    <!-- History Controls -->
    <div class="history-controls">
      <div class="controls-group">
        <div class="control-item">
          <label class="control-label">Show Recent:</label>
          <select id="limitSelect" class="control-select">
            <option value="10">Last 10 runs</option>
            <option value="25">Last 25 runs</option>
            <option value="50">Last 50 runs</option>
            <option value="100">Last 100 runs</option>
          </select>
        </div>
        <button id="refreshHistoryBtn" class="filter-button secondary">
          <i class="fas fa-sync-alt"></i>
          Refresh
        </button>
      </div>
    </div>

    <!-- History Table -->
    <div id="historyTable" class="history-table-container">
      <div class="loading-message">
        <i class="fas fa-spinner fa-spin"></i>
        <p>Loading history...</p>
      </div>
    </div>

    <!-- History Details -->
    <div id="historyDetails" class="history-details" style="display: none;">
      <h4>Run Details</h4>
      <div id="runDetailsContent"></div>
    </div>
  </div>
</div>
<!-- Universal Footer -->
<div id="footerPlaceholder"></div>
<script>
  if (!document.getElementById('universalFooter')) {
    fetch('/components/universal-footer.html')
      .then(response => response.text())
      .then(html => {
        document.getElementById('footerPlaceholder').innerHTML = html;
      })
      .catch(error => console.error('Error loading footer:', error));
  }
</script>