<!-- Labels History Page -->
<div class="labels-history">
  <!-- Page Header -->
  <div class="page-header">
    <div class="header-content">
      <h1 class="page-title">Label History</h1>
      <p class="page-subtitle">View and manage your label generation history</p>
    </div>
  </div>

  <!-- Navigation Tabs -->
  <div class="inner-tabs">
    <button class="tab-button" onclick="location.href='/labels/generator'">
      <i class="fas fa-barcode"></i>
      <span>Generator</span>
    </button>
    <button class="tab-button active" onclick="location.href='/labels/history'">
      <i class="fas fa-history"></i>
      <span>History</span>
    </button>
  </div>

  <!-- Main Content -->
  <div class="history-content">
    <!-- Label Generation History Section -->
    <section class="section-header">
      <h2 class="section-title">
        <i class="fas fa-clipboard-list"></i>
        Label Generation History
      </h2>
      <p class="section-subtitle">View past label generation runs and download previous batches</p>
    </section>
      
      <div class="history-controls modern-box" style="margin-bottom: 2rem;">
        <div style="display: flex; gap: 1rem; align-items: center; flex-wrap: wrap;">
          <div style="display: flex; align-items: center; gap: 0.5rem;">
            <label class="form-label" style="margin: 0;">Show Recent:</label>
            <select id="limitSelect" class="modern-input" style="width: auto; padding: 8px 12px;">
              <option value="10">Last 10 runs</option>
              <option value="25">Last 25 runs</option>
              <option value="50">Last 50 runs</option>
              <option value="100">Last 100 runs</option>
            </select>
          </div>
          <button id="refreshHistoryBtn" class="modern-button">
            ðŸ”„ Refresh
          </button>
        </div>
      </div>

      <div id="historyTable" class="modern-box">
        <p class="muted" style="text-align: center; padding: 2rem; color: #999;">Loading history...</p>
      </div>

      <div id="historyDetails" class="modern-box" style="display: none; margin-top: 2rem;">
        <h4>Run Details</h4>
        <div id="runDetailsContent"></div>
      </div>
  </div>
</div>
<!-- Universal Footer -->
<div id="footerPlaceholder"></div>
<script>
  if (!document.getElementById('universalFooter')) {
    fetch('/components/universal-footer.html')
      .then(response => response.text())
      .then(html => {
        document.getElementById('footerPlaceholder').innerHTML = html;
      })
      .catch(error => console.error('Error loading footer:', error));
  }
</script>